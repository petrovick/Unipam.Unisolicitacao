<?xml version="1.0" encoding="UTF-8"?>
<!--
To change this license header, choose License Headers in Project Properties.
To change this template file, choose Tools | Templates
and open the template in the editor.
-->
<!DOCTYPE html>
<ui:fragment xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:p="http://primefaces.org/ui"
      xmlns:f="http://java.sun.com/jsf/core">
      
	<p:fieldset header="Prioridades cadastradas" >
		<h:form id="formTabela">
	        <p:contextMenu for="tabela">
	            <p:menuitem value="Excluir" icon="ui-icon-close" actionListener="#{prioridadeController.excluir()}" update="painelPropriedade" />
	            <p:menuitem value="Editar" icon="ui-icon-pencil" actionListener="#{prioridadeController.editar()}" update=":formCadastro:painelCadastro" />
	        </p:contextMenu>
	        <p:panel header="Prioridades Cadastradas" id="painelPropriedade">
				<p:growl id="message" showDetail="false" />
				
				<p:dataTable var="prioridade" id="tabela"
				value="#{prioridadeController.todos()}"
				paginator="true" rows="15"
				emptyMessage="Nenhuma prioridade cadastrada" 
                rowKey="#{prioridade.idPrioridade}" 
                selection="#{prioridadeController.prioridadeSelecionada}" 
                selectionMode="single">
					<p:column headerText="Prioridade">
						#{prioridade.descricao}
					</p:column>
				</p:dataTable>
			</p:panel>
		</h:form>
	</p:fieldset>
</ui:fragment>